<!DOCTYPE html>
<html>

<head>
    <title>Who Said What</title>
    <style>
        body {
            font-family: Georgia;
        }

        #all {
            height: 90vh;
            width: 99vw;
            bottom: 0;
            position: absolute;
        }

        .bodies {
            width: 50%;
            height: 100%;
            position: relative;
        }

        #first {
            float: left;
        }

        #second {
            text-align: center;
            float: right;
        }

        #transcriptBox {
            padding: 20px;
            border-top-left-radius: 30px;
            border-top-right-radius: 30px;
            overflow-y: auto;
            position: absolute;
            bottom: 0;
            right: 0;
            width: 43vw;
            height: 80vh;
            /*background-color: lightblue;*/
        }

        #title {
            font-size: 4em;
        }

        #talker {
            width: 300px;
            font-size: 3em;
            position: absolute;
            top: 50%;
            left: 50%;
            margin-right: -50%;
            transform: translate(-50%, -50%)
        }

        #buttonContainer {
            float:right;
            
        }
    </style>

</head>

<body>
    <div id="title">
        WhoSaidWhat
    </div>
    <div id="buttonContainer">
        <input id="inputAdd" type="text" placeholder="Add Person to Call" />
        <button id="add">Add</button>
    </div>
    <div id="all">

        <div class="bodies" id="first">

            <div id="transcriptBox">

                    {{{transcript}}}

            </div>
        </div>
        <div class="bodies" id="second">
            {{{name}}}

        </div>
        <div style="clear:both"></div>
    </div>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
    <script type="text/javascript">
    
        var response = {};
        var add = document.getElementById("inputAdd");
        document.getElementById('inputAdd').addEventListener("keyup", function (event) {
            if (event.keyCode === 13) {
                // Trigger the button element with a click
                document.getElementById("add").click();
            }
            document.getElementById('add').addEventListener("click", function () {
                console.log(add.value);
                response['name'] = add.value;
                $.ajax({
                    type: 'POST',
                    data: JSON.stringify(response),
                    contentType: 'application/json',
                    url: '/',
                    success: function (data) {
                         $('#all').load('#second');
                    }
                })
            });
        });
        
        $(document).ready(function () {
            $('body').delay(1000).load('');
        });
    </script>

</body>

</html>